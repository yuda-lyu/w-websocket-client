/*!
 * w-websocket-client v1.0.22
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("ws")):"function"==typeof define&&define.amd?define(["ws"],n):(e="undefined"!=typeof globalThis?globalThis:e||self)["w-websocket-client"]=n(e.ws)}(this,(function(e){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(e);function t(){return"undefined"!=typeof window&&void 0!==window.document}function r(e){var n=Object.prototype.toString.call(e);return"[object Function]"===n||"[object AsyncFunction]"===n}return function(e){var n=null;e.url||(e.url="ws://localhost:8080"),e.token||(e.token="*");var s,i=function(){var e=t(),n="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;return{isBrowser:e=e||n,isWebWorker:n,isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}}().isBrowser;s=i?("undefined"!=typeof self?self:t()?window:"undefined"!=typeof global?global:null).WebSocket:o.default;try{n=new s(e.url+"/?token="+e.token)}catch(e){n=null}if(null===n)return{error:"can not new MixWS"};function l(){r(e.open)&&e.open()}function u(){r(e.close)&&e.close()}function c(n){r(e.message)&&e.message(n)}function f(o){r(e.error)&&e.error(o),n.close()}return i?(n.onopen=l,n.onmessage=function(e){c(e.data)},n.onclose=u,n.onerror=f):(n.on("open",l),n.on("message",c),n.on("close",u),n.on("error",f)),n}}));
//# sourceMappingURL=w-websocket-client.umd.js.map

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-tw">

    <head>
        <meta http-equiv="content-type" content="text/html charset=UTF-8" />
        <title>WebSocket</title>

        <script nomodule src="https://cdn.jsdelivr.net/npm/@babel/polyfill/dist/polyfill.min.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        
        <script src="dist/w-websocket-client.umd.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/w-consolelog/dist/w-consolelog.umd.js"></script>
        <script>
            let logData=window['w-consolelog']
        </script>
        
        <script>

            //opt
            let opt = {
                url: 'ws://localhost:8080',
                token: '*',
                open: function() {
                    logData('client web: open')

                    //send
                    wsc.send('abc')
                  
                },
                close: function() {
                    logData('client web: close')
                },
                message: function(data) {
                    logData('client web: message', data)
                },
                error: function(err) {
                    logData('client web: error:', err)
                },
            }

            //WSC
            let WSC = window['w-websocket-client']
            let wsc = new WSC(opt)
    
        </script>

    </head>

    <body>
    </body>

</html>